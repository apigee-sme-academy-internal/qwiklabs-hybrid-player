# this file is used for activity tracking, do not edit it manually
BASEDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

function export_var() {
  var_name="$1"
  var_value=$(sudo bash -c 'source /root/env ; echo $'${var_name})
  export "$var_name=$var_value"
}

function get_cluster_credentials() {
  cluster_name="$1"
  cluster_zone="$2"
  export KUBECONFIG="${BASEDIR}/config"
  if [ ! -f "${KUBECONFIG}" ]; then
    gcloud container clusters get-credentials "${cluster_name}" --zone "${cluster_zone}" &>/dev/null ;
  fi
}

export -f export_var

export PATH="/snap/bin:$PATH"
export CLUSTER='hybrid-cluster'
export_var PROJECT
export_var CLUSTER_ZONE
export_var PROJECT
export_var CLUSTER_ZONE
export_var ORG
export_var ENV
export_var PROJECT_SERVICE_ACCOUNT_JSON
export_var RUNTIME_HOST_ALIAS

get_cluster_credentials "${CLUSTER}" "${CLUSTER_ZONE}"
